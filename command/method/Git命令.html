<!DOCTYPE html>
<html>
<head>
	<title>Git命令</title>
</head>
<body>
<h1><a href="../../index.html">目录</a>——<a href="../command.html">常用命令</a>——Git命令</h1>
<div style="background:#EBE9E9;font-size: 18px">
	<pre>
git init
	初始化仓库

	</pre>
</div>

<div style="background:#EBE9E9;font-size: 18px">
	<pre>
git clone
	从git服务器拉取代码
	git clone https://github.com/gafish/gafish.github.com.git

	代码下载完成后在当前文件夹中会有一个 gafish.github.com 的目录，通过 cd gafish.github.com 命令进入目录。

	</pre>
</div>

<div style="background:#EBE9E9;font-size: 18px">
	<pre>
git config 
	配置开发者用户名和邮箱
	git config user.name gafish
	git config user.email gafish@qqqq.com

	</pre>
</div>

<div style="background:#EBE9E9;font-size: 18px">
	<pre>
git branch
	创建、重命名、查看、删除项目分支，通过 Git 做项目开发时，一般都是在开发分支中进行，开发完成后合并分支到主干。
	git branch daily/0.0.0

	如果觉得之前的分支名不合适，可以为新建的分支重命名，重命名分支名为 daily/0.0.1
	git branch -m daily/0.0.0 daily/0.0.1

	通过不带参数的branch命令可以查看当前项目分支列表
	git branch

	如果分支已经完成使命则可以通过 -d 参数将分支删除
	git branch -d daily/0.0.1

	强制删除dev分支
	git branch -D dev
	</pre>
</div>

<div style="background:#EBE9E9;font-size: 18px">
	<pre>
git checkout
	切换分支
	git checkout daily/0.0.1

	放弃单个文件的修改
	git checkout filename 

	放弃当前目录下的修改
	git checkout . 

	查看帮助

　　	git checkout --help

	</pre>
</div>

<div style="background:#EBE9E9;font-size: 18px">
	<pre>
git status
	查看文件变动状态
	git status
	</pre>
</div>

<div style="background:#EBE9E9;font-size: 18px">
	<pre>
git add
	添加文件变动到暂存区，通过指定文件名 README.md 可以将该文件添加到暂存区，如果想添加所有文件可用 git add .
	git add README.md
	</pre>
</div>

<div style="background:#EBE9E9;font-size: 18px">
	<pre>
git commit
	提交文件变动到版本库
	git commit -m '这里写提交原因'

	</pre>
</div>

<div style="background:#EBE9E9;font-size: 18px">
	<pre>
git push
	将本地的代码改动推送到服务器，origin 指代的是当前的git服务器地址，这行命令的意思是把 daily/0.0.1 分支推送到服务器
	git push origin daily/0.0.1
	</pre>
</div>

<div style="background:#EBE9E9;font-size: 18px">
	<pre>
git pull
	将服务器上的最新代码拉取到本地
	git pull origin daily/0.0.1

	如果其它项目成员对项目做了改动并推送到服务器，
	我们需要将最新的改动更新到本地，这里我们来模拟一下这种情况。

	进入Github网站的项目首页，再进入 daily/0.0.1 分支，
	在线对 README.md 文件做一些修改并保存，然后在命令中执行以上命令，
	它将把刚才在线修改的部分拉取到本地，用编辑器打开 README.md ，你会发现文件已经跟线上的内容同步了。

	如果线上代码做了变动，而你本地的代码也有变动，
	拉取的代码就有可能会跟你本地的改动冲突，
	一般情况下 Git 会自动处理这种冲突合并，但如果改动的是同一行，
	那就需要手动来合并代码，编辑文件，
	保存最新的改动，再通过 git add . 和 git commit -m 'xxx' 来提交合并。
	</pre>
</div>

<div style="background:#EBE9E9;font-size: 18px">
	<pre>
git merge
	合并分支到msater
	git merge daily/0.0.1
	git push origin master:master

	</pre>
</div>

<div style="background:#EBE9E9;font-size: 18px">
	<pre>
git log
	查看版本提交记录
	git log

	通过以上命令，我们可以查看整个项目的版本提交记录，
	它里面包含了提交人、日期、提交原因等信息，
	得到的结果如下：
	commit c334730f8dba5096c54c8ac04fdc2b31ede7107a
	Author: gafish <gafish@qqqq.com>
	Date:   Wed Jan 11 09:44:13 2017 +0800
  	  Update README.md
	commit ba6e3d21fcb1c87a718d2a73cdd11261eb672b2a
	Author: gafish <gafish@qqqq.com>
	Date:   Wed Jan 11 09:31:33 2017 +0800
 	   test
	.....
	提交记录可能会非常多，按 J 键往下翻，按 K 键往上翻，按 Q 键退出查看
	</pre>
</div>

<div style="background:#EBE9E9;font-size: 18px">
	<pre>
git tag
	为项目标记里程碑
	git tag publish/0.0.1
	git push origin publish/0.0.1

	当我们完成某个功能需求准备发布上线时，应该将此次完整的项目代码做个标记，
	并将这个标记好的版本发布到线上，这里我们以 publish/0.0.1 为标记名并发布
	</pre>
</div>

<div style="background:#EBE9E9;font-size: 18px">
	<pre>
.gitignore
	设置哪些内容不需要推送到服务器，这是一个配置文件
	touch .gitignore

	.gitignore 不是 Git 命令，而在项目中的一个文件，
	通过设置 .gitignore 的内容告诉 Git
	哪些文件应该被忽略不需要推送到服务器，通过以上命令可以创建一个 .gitignore 文件，
	并在编辑器中打开文件，每一行代表一个要忽略的文件或目录，如：
		demo.html
		build/
	以上内容的意思是 Git 将忽略 demo.html 文件和build/ 目录，这些内容不会被推送到服务器上
	</pre>
</div>

<div style="background:#EBE9E9;font-size: 18px">
	<pre>
设置不需要密码	
	git config --global credential.helper store
	 
	git pull /git push (第一次输入，后续就不用再次数据)
</pre>
</div>


<div style="background:#EBE9E9;font-size: 18px">
	<pre>
git diff
当工作区有改动，临时区为空，diff的对比是“工作区与最后一次commit提交的仓库的共同文件”；
	当工作区有改动，临时区不为空，diff对比的是“工作区与暂存区的共同文件”。

    显示暂存区(已add但未commit文件)和最后一次commit(HEAD)之间的所有不相同文件的增删改
    (git diff --cached和git diff –staged相同作用)
    git diff --cached 或 git diff --staged

    显示工作目录(已track但未add文件)和暂存区(已add但未commit文件)与最后一次commit之间的的所有不相同文件的增删改。
    git diff HEAD

    (后面有X个^符号，X为正整数):
    可以查看最近一次提交的版本与往过去时间线前数X个的版本之间的所有同(3)中定义文件之间的增删改。
    git diff HEAD~X或git diff HEAD^^^…

    比较两个分支上最后 commit 的内容的差别
    git diff <分支名1> <分支名2>

    显示出所有有差异的文件(不详细,没有对比内容)
    git diff branch1 branch2 --stat    

    显示出所有有差异的文件的详细差异(更详细)
    git diff branch1 branch2              
   
    显示指定文件的详细差异(对比内容)
    git diff branch1 branch2 具体文件路径

    我们有2个分支：master、dev(dev为develop的缩写,应是开发新功能的Feature分支)，查看这两个 branch 的区别，除了上面(abc)还有以下几种方式：

    git log dev ^master 查看 dev中log有的commit，而 master中log没有的commit

    git log master..dev查看 dev 中的log比 master 中的log多提交了哪些内容(注意，列出来的是两个点“..”后边（此处即dev）多提交的内容)

    git log dev...master 不知道谁提交的多谁提交的少，单纯想知道有什么不一样

    git log --left-right dev...master 在上述情况下，再显示出每个提交是在哪个分支上
	</pre>
</div>

</body>

</html>